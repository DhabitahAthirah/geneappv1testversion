{% extends "base.html" %}

{% block content %}

<div class="container" style="margin-top: 20px;">
    <h2 class="mb-4">Search Results</h2>
  
    {% if results and results|length > 0 %}
        <div class="table-responsive">
            <table class="table table-striped table-bordered">
                <thead class="table-dark">
                    <tr>
                        <th scope="col">Scientific Name</th>
                        <th scope="col">Organism Description</th>
                        <th scope="col">Accession Number</th>
                        <th scope="col">Accession Length</th>
                        <th scope="col">Percentage Identity</th>
                        <th scope="col">Max Score</th>
                        <th scope="col">Total Score</th>
                        <th scope="col">Cover Query</th>
                        <th scope="col">E Value</th>
                    </tr>
                </thead>
                <tbody>
                    {% for result in results %}
                        <tr>
                            <td>{{ result.scientific_name }}</td>
                            <td>{{ result.organism }}</td>
                            <td>{{ result.accession }}</td>
                            <td>{{ result.accession_length }}</td>
                            <td>{{ result.identity }}%</td>
                            <td>{{ result.max_score }}</td>
                            <td>{{ result.total_score }}</td>
                            <td>{{ result.cover_query }}</td>
                            <td>{{ result.e_value }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="mt-4">
            <a href="/download/excel" class="btn btn-success me-2">Download as Excel</a>
            <a href="/download/csv" class="btn btn-info">Download as CSV</a>
        </div>

    {% else %}
        <div class="alert alert-warning" role="alert">
            No results found for the provided sequence. Please try again.
        </div>
    {% endif %}
  
    <div class="mt-4">
        <a href="/" class="btn btn-primary">Go Back</a>
    </div>
  </div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>

{% endblock %}